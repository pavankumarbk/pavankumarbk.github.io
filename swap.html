<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>touchy test page</title>
	<meta name="viewport" content="width=device-width">
	<style>
		html, body{ height:100%; }
		body{ text-align:center; margin:0; padding:10px; font-family:Arial; }
		div{ height:80%; border:2px solid #CCC; background:#ccc; font-size:3em;  }
		div::before{ height:100%; content:''; vertical-align:middle; display:inline-block; }
		span{ vertical-align:middle; pointer-events:none; }
	</style>
	<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

</head>
<body>
	<h2>swipe / double tap / single tap</h2>
	<div></div>
	<script src='jquery.touch.js'></script>
	<script>
		$('div').on('swipe', function(e, Dx, Dy){
			var side = (Dx < 0) ? '←' : (Dx > 0) ? '→' : (Dy > 0) ? '↑' : (Dy < 0) ? '↓' : '?'; 
			$(this).html('<span>' + side + '</span>');
		}).on('doubleTap', function(){
			$(this).html('<span>doubleTap</span>');
		}).on('tap', function(){
			$(this).html('<span>Tap</span>');
		})
	;(function($){
	"use strict";

	var tapTimer,
		moved     = false,   // flag to know if the finger had moved while touched the device
		threshold = 250;     // ms

	//////////////////////
	// special events

	$.event.special.doubleTap = {
	    setup    : setup,
        teardown : teardown,
        handler  : handler
	};

    $.event.special.tap = {
        setup    : setup,
        teardown : teardown,
        handler  : handler
    };

	//////////////////////
	// events methods

	function setup(data, namespaces){
	    var elm = $(this);

		if( elm.data('tap_event') == true )
			return;

		elm.bind('touchend.tap', handler)
		    .bind('touchmove.tap', function(){
				moved = true;
			}).data('tap_event', true);
	}

	function teardown(namespaces) {
        $(this).unbind('touchend.tap touchmove.tap');
    }

	function handler(event){
	console.log(event);
		if( moved ){ // reset
			moved = false;
			return false;
		}

		var elem 	  = event.target,
			$elem 	  = $(elem),
			lastTouch = $elem.data('lastTouch') || 0,
			now 	  = event.timeStamp,
			delta 	  = now - lastTouch;

		// double-tap condition
		if( delta > 20 && delta < threshold  ){
			clearTimeout(tapTimer);
			return $elem.data('lastTouch', 0).trigger('doubleTap');
		}
		else
			$elem.data('lastTouch', now);


		tapTimer = setTimeout(function(){
			$elem.trigger('tap');
		}, threshold);
	}

})(jQuery);

	</script>
</body> 
</html>